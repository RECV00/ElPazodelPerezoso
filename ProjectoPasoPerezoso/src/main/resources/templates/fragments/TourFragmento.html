<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="tourFragment">
    <div id="tourSelectorContainer" style="margin-top: 15px; padding: 15px; background-color: #f8f9fa; border-radius: 5px; border: 1px solid #ddd;">
        <h3 style="margin-top: 0;">Selección de Tour</h3>
        
         Lista de tours 
        <div id="tourResults" style="max-height: 300px; overflow-y: auto; margin-bottom: 15px; border: 1px solid #ddd; padding: 10px;">
            <div th:if="${tours == null or tours.isEmpty()}">
                <p>No hay tours disponibles en este momento.</p>
            </div>
            
            <div th:unless="${tours == null or tours.isEmpty()}" th:each="tour : ${tours}" style="margin-bottom: 10px; padding: 8px; border-bottom: 1px solid #eee;">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    <input type="radio" 
                           name="tourSelectionId"
                           th:value="${tour.id_tour}" 
                           th:id="'id_tour' + ${tour.id_tour}"
                           style="margin-right: 10px;" 
                           onchange="updateSelectedTour(this)"/>
                    <div>
                        <strong th:text="${tour.nameTour}"></strong>
                        <div style="font-size: 0.9em; color: #555;">
                            <span th:text="'Precio: $' + ${tour.price}"></span> | 
                            <span th:text="'Duración: ' + ${tour.duration}"></span>
                        </div>
                    </div>
                </label>
            </div>
        </div>
        
         Tour seleccionado 
        <div id="selectedTourDisplay" style="display: none; margin-top: 15px;">
            <h4>Tour Seleccionado:</h4>
            <div id="selectedTourInfo"></div>
        </div>
        
         Campo oculto para enviar el ID al formulario 
        <input type="hidden" name="selectedTourId" th:value="${tour.id_tour}" />
    </div>
</div>

<script>
    // Variable para almacenar el ID del tour seleccionado
    let selectedTour = null;
    
    // Función para actualizar el tour seleccionado
    function updateSelectedTour(radioButton) {
        if (radioButton.checked) {
            selectedTour = parseInt(radioButton.value);
            updateSelectedTourDisplay();
            // Actualizar el campo oculto del formulario
            document.getElementById('selectedTourId').value = selectedTour;
        }
    }
    
    // Función para actualizar la visualización del tour seleccionado
    function updateSelectedTourDisplay() {
        const selectedInfo = document.getElementById('selectedTourInfo');
        const selectedContainer = document.getElementById('selectedTourDisplay');
        
        selectedInfo.innerHTML = '';
        
        if (selectedTour !== null) {
            selectedContainer.style.display = 'block';
            
            // Obtener el nombre del tour seleccionado
            const tourName = document.querySelector(`#id_tour${selectedTour} + div strong`).textContent;
            
            selectedInfo.innerHTML = `
                <div style="padding: 10px; background-color: #e9ffe9; border-radius: 4px; border: 1px solid #ddd;">
                    <strong>${tourName}</strong>
                    <button type="button" onclick="deselectTour()" style="float: right; background-color: #f44336; color: white; border: none; border-radius: 3px; padding: 2px 5px; cursor: pointer;">
                        Cambiar selección
                    </button>
                </div>
            `;
        } else {
            selectedContainer.style.display = 'none';
            document.getElementById('selectedTourId').value = '';
        }
    }
    
    // Función para deseleccionar el tour
    function deselectTour() {
        selectedTour = null;
        const radioButton = document.querySelector(`input[name="tourSelection"]:checked`);
        if (radioButton) {
            radioButton.checked = false;
        }
        updateSelectedTourDisplay();
    }
    
    // Función para validar antes de enviar el formulario principal
    function validateFormBeforeSubmit() {
        const tourRequired = true; // Cambiar a false si el tour es opcional
        
        if (tourRequired && selectedTour === null) {
            alert('Por favor seleccione un tour para continuar.');
            return false;
        }
        
        return true;
    }
    
    // Asignar la función de validación al formulario principal
    document.addEventListener('DOMContentLoaded', function() {
        const mainForm = document.querySelector('form'); // Ajustar este selector según tu formulario principal
        
        if (mainForm) {
            mainForm.onsubmit = function() {
                return validateFormBeforeSubmit();
            };
        }
    });
</script>
</html>-->

<!--

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="tourFragment">
    <div id="tourSelectionContainer" style="margin-top: 15px; padding: 15px; background-color: #f8f9fa; border-radius: 5px; border: 1px solid #ddd;">
        <h3 style="margin-top: 0;">Selección de Tours</h3>
        
         Campo de búsqueda 
        <div class="form-group">
            <label for="tourSearch">Buscar Tour:</label>
            <input type="text" id="tourSearch" class="form-control" placeholder="Nombre del tour..." 
                   oninput="searchTours(this.value)" style="width: 100%; padding: 8px; margin-bottom: 10px;">
        </div>
        
         Resultados de búsqueda 
        <div id="tourResults" style="max-height: 200px; overflow-y: auto; margin-bottom: 15px; border: 1px solid #ddd; padding: 10px;">
             Los tours se cargarán aquí dinámicamente 
        </div>
        
         Tours seleccionados 
        <div id="selectedTours" style="margin-top: 10px;">
            <h4 style="margin-bottom: 10px;">Tours seleccionados:</h4>
            <ul id="selectedToursList" style="list-style-type: none; padding-left: 0;">
                 Se mostrarán los tours seleccionados aquí 
            </ul>
        </div>
        
        <button type="button" onclick="confirmTourSelection()" class="button" 
                style="background-color: #4CAF50; color: white; padding: 8px 15px; border: none; border-radius: 4px; cursor: pointer;">
            Confirmar selección
        </button>
    </div>
</div>
</html>-->